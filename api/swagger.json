{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"euklides-env.5smb4hxpjz.eu-west-2.elasticbeanstalk.com","basePath":"/","tags":[{"name":"exercise-resource","description":"Exercise Resource"},{"name":"token-resource","description":"Token Resource"},{"name":"user-resource","description":"User Resource"}],"paths":{"/exercises":{"get":{"tags":["exercise-resource"],"summary":"Get page of exercises with its authors","operationId":"getPageOfExercisesUsingGET","produces":["*/*"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","format":"int64"},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32"},{"name":"paged","in":"query","required":false,"type":"boolean"},{"name":"sort","in":"query","description":"A collection of sort directives in the format ($propertyname,)+[asc|desc]?.","required":false,"type":"string","enum":["creationDateTime","name","class"]},{"name":"sort.sorted","in":"query","required":false,"type":"boolean"},{"name":"sort.unsorted","in":"query","required":false,"type":"boolean"},{"name":"unpaged","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Page«ExerciseResponseWithAuthor»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"post":{"tags":["exercise-resource"],"summary":"Create exercise","operationId":"createExerciseUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"requestBody","description":"requestBody","required":true,"schema":{"$ref":"#/definitions/ExerciseRequest"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/ExerciseResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/exercises/{id}":{"get":{"tags":["exercise-resource"],"summary":"Get exercise by id","operationId":"getExerciseUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ExerciseResponseWithAuthor"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"put":{"tags":["exercise-resource"],"summary":"Update exercise","operationId":"updateExerciseUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"},{"in":"body","name":"requestBody","description":"requestBody","required":true,"schema":{"$ref":"#/definitions/ExerciseRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ExerciseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"delete":{"tags":["exercise-resource"],"summary":"Delete exercise","operationId":"deleteExerciseUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"}],"responses":{"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"deprecated":false}},"/token":{"post":{"tags":["token-resource"],"summary":"Get auth token (and refresh token)","description":"Used to obtain auth and refresh token pair passing username and password or used to obtain new auth token passing refresh token.","operationId":"getTokenUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"grantType","description":"Determines whether username and password are used for authentication or refresh token","required":true,"schema":{"type":"string","enum":["credentials","refreshToken"]}},{"in":"body","name":"login","description":"Required if 'grantType' is 'credentials'","required":false,"schema":{"type":"string"}},{"in":"body","name":"password","description":"Required if 'grantType' is 'credentials'","required":false,"schema":{"type":"string"}},{"in":"body","name":"refreshToken","description":"Required if 'grantType' is 'refreshToken'.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TokenResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/users":{"get":{"tags":["user-resource"],"summary":"Get page of users","operationId":"getPageUsingGET","produces":["*/*"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","format":"int64"},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32"},{"name":"paged","in":"query","required":false,"type":"boolean"},{"name":"sort","in":"query","description":"A collection of sort directives in the format ($propertyname,)+[asc|desc]?.","required":false,"type":"string","enum":["creationDateTime","email","firstName","lastName"]},{"name":"sort.sorted","in":"query","required":false,"type":"boolean"},{"name":"sort.unsorted","in":"query","required":false,"type":"boolean"},{"name":"unpaged","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Page«UserResponse»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"post":{"tags":["user-resource"],"summary":"Create user","description":"User with admin privileges is allowed to create accounts for teachers and students. User with teacher privileges is allowed to create student accounts only.","operationId":"createUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"requestBody","description":"requestBody","required":true,"schema":{"$ref":"#/definitions/UserCreateRequest"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/UserResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/users/{id}":{"get":{"tags":["user-resource"],"summary":"Get user by id","operationId":"getUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"put":{"tags":["user-resource"],"summary":"Update user","description":"This operation must be performed by admin or owner of the account.","operationId":"updateUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"},{"in":"body","name":"requestBody","description":"requestBody","required":true,"schema":{"$ref":"#/definitions/UserUpdateRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"delete":{"tags":["user-resource"],"summary":"Delete user","description":"This operation must be performed by admin or owner of the account.","operationId":"deleteUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"}],"responses":{"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"deprecated":false}},"/users/{id}/password":{"put":{"tags":["user-resource"],"summary":"Update password","description":"This operation must be performed by admin or owner of the account.","operationId":"updatePasswordUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"},{"in":"body","name":"requestBody","description":"requestBody","required":true,"schema":{"$ref":"#/definitions/PasswordUpdateRequest"}}],"responses":{"201":{"description":"Created"},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"Choice":{"type":"object","required":["label","order"],"properties":{"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"Choice"},"ExerciseRequest":{"type":"object","required":["content","name","type"],"properties":{"answer":{"type":"string","description":"Used if type equals OPEN. Can be null."},"choices":{"type":"array","description":"Required if type equals CLOSED. Must have at least 2 choices. Choice orders must be unique.","items":{"$ref":"#/definitions/Choice"}},"correctChoiceOrder":{"type":"integer","format":"int32","description":"Required if type equals CLOSED. Must point to existing choice."},"name":{"type":"string","minLength":1,"maxLength":50},"points":{"type":"array","description":"Required if type equals OPEN_WITH_POINTS. Must not be empty. Point orders must be unique.","items":{"$ref":"#/definitions/Point"}},"content":{"type":"string"},"class":{"type":"integer","format":"int32","minimum":4.0,"maximum":6.0,"exclusiveMinimum":false,"exclusiveMaximum":false},"type":{"type":"string","enum":["CLOSED","OPEN","OPEN_WITH_POINTS"]}},"title":"ExerciseRequest"},"ExerciseResponse":{"type":"object","required":["class","content","creationDateTime","id","name","type"],"properties":{"answer":{"type":"string"},"choices":{"type":"array","items":{"$ref":"#/definitions/Choice"}},"class":{"type":"integer","format":"int32"},"content":{"type":"string"},"correctChoiceOrder":{"type":"integer","format":"int32"},"creationDateTime":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"points":{"type":"array","items":{"$ref":"#/definitions/Point"}},"type":{"type":"string","enum":["CLOSED","OPEN","OPEN_WITH_POINTS"]}},"title":"ExerciseResponse"},"ExerciseResponseWithAuthor":{"type":"object","required":["class","content","createdBy","creationDateTime","id","name","type"],"properties":{"answer":{"type":"string"},"choices":{"type":"array","items":{"$ref":"#/definitions/Choice"}},"class":{"type":"integer","format":"int32"},"content":{"type":"string"},"correctChoiceOrder":{"type":"integer","format":"int32"},"createdBy":{"$ref":"#/definitions/User"},"creationDateTime":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"points":{"type":"array","items":{"$ref":"#/definitions/Point"}},"type":{"type":"string","enum":["CLOSED","OPEN","OPEN_WITH_POINTS"]}},"title":"ExerciseResponseWithAuthor"},"Pageable":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"sort":{"$ref":"#/definitions/Sort"},"unpaged":{"type":"boolean"}},"title":"Pageable"},"Page«ExerciseResponseWithAuthor»":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/ExerciseResponseWithAuthor"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"Page«ExerciseResponseWithAuthor»"},"Page«UserResponse»":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/UserResponse"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"Page«UserResponse»"},"PasswordUpdateRequest":{"type":"object","required":["password"],"properties":{"password":{"type":"string","minLength":6,"maxLength":30}},"title":"PasswordUpdateRequest"},"Point":{"type":"object","required":["content","order"],"properties":{"answer":{"type":"string"},"content":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"Point"},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}},"title":"Sort"},"Token":{"type":"object","required":["expirationDate","token"],"properties":{"expirationDate":{"type":"string","format":"date-time"},"token":{"type":"string"}},"title":"Token"},"TokenRequest":{"type":"object","title":"TokenRequest"},"TokenResponse":{"type":"object","required":["authToken","refreshToken","role","userId"],"properties":{"authToken":{"$ref":"#/definitions/Token"},"refreshToken":{"$ref":"#/definitions/Token"},"role":{"type":"string","enum":["ADMIN","TEACHER","STUDENT"]},"userId":{"type":"string","format":"uuid"}},"title":"TokenResponse"},"User":{"type":"object","required":["creationDateTime","email","firstName","id","lastName","password","role"],"properties":{"creationDateTime":{"type":"string","format":"date-time"},"email":{"type":"string"},"firstName":{"type":"string"},"id":{"type":"string","format":"uuid"},"lastName":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["ADMIN","TEACHER","STUDENT"]}},"title":"User"},"UserCreateRequest":{"type":"object","required":["email","firstName","lastName","password","role"],"properties":{"email":{"type":"string"},"password":{"type":"string","minLength":6,"maxLength":30},"firstName":{"type":"string","minLength":1,"maxLength":50},"lastName":{"type":"string","minLength":1,"maxLength":100},"role":{"type":"string","enum":["ADMIN","TEACHER","STUDENT"]}},"title":"UserCreateRequest"},"UserResponse":{"type":"object","required":["creationDateTime","email","firstName","id","lastName","role"],"properties":{"creationDateTime":{"type":"string","format":"date-time"},"email":{"type":"string"},"firstName":{"type":"string"},"id":{"type":"string","format":"uuid"},"lastName":{"type":"string"},"role":{"type":"string","enum":["ADMIN","TEACHER","STUDENT"]}},"title":"UserResponse"},"UserUpdateRequest":{"type":"object","required":["firstName","lastName","role"],"properties":{"firstName":{"type":"string","minLength":1,"maxLength":50},"lastName":{"type":"string","minLength":1,"maxLength":100},"role":{"type":"string","enum":["ADMIN","TEACHER","STUDENT"]}},"title":"UserUpdateRequest"}}}
